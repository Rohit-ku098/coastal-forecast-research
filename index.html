<!DOCTYPE html>
<html>

<head>
    <title>Leaflet Multipolygon</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/@turf/turf/turf.min.js"></script>
</head>

<body>
    <div id="map" style="height: 100vh"></div>
    <script>
        const map = L.map("map").setView([40.753621, -73.981149], 13);

        L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
            attribution: "&copy; OpenStreetMap contributors",
        }).addTo(map);
         const beaches = [
            {
                name: "Marina Beach",
                place: "Chennai",
                state: "Tamil Nadu",
                district: "Chennai",
                latitude: 13.0475,
                longitude: 80.2824,
            },
            {
                name: "Juhu Beach",
                place: "Mumbai",
                state: "Maharashtra",
                district: "Mumbai",
                latitude: 19.0986,
                longitude: 72.826,
            },
            {
                name: "Baga Beach",
                place: "Baga",
                state: "Goa",
                district: "North Goa",
                latitude: 15.5523,
                longitude: 73.7517,
            },
            {
                name: "Palolem Beach",
                place: "Palolem",
                state: "Goa",
                district: "South Goa",
                latitude: 15.0097,
                longitude: 74.0234,
            },
            {
                name: "Kovalam Beach",
                place: "Kovalam",
                state: "Kerala",
                district: "Thiruvananthapuram",
                latitude: 8.4017,
                longitude: 76.9784,
            },
            {
                name: "Varkala Beach",
                place: "Varkala",
                state: "Kerala",
                district: "Thiruvananthapuram",
                latitude: 8.7378,
                longitude: 76.7085,
            },
            {
                name: "Radhanagar Beach",
                place: "Havelock Island",
                state: "Andaman and Nicobar Islands",
                district: "South Andaman",
                latitude: 11.9775,
                longitude: 92.9847,
            },
            {
                name: "Calangute Beach",
                place: "Calangute",
                state: "Goa",
                district: "North Goa",
                latitude: 15.5443,
                longitude: 73.7554,
            },
            {
                name: "Puri Beach",
                place: "Puri",
                state: "Odisha",
                district: "Puri",
                latitude: 19.7983,
                longitude: 85.8245,
            },
            {
                name: "Gopalpur Beach",
                place: "Gopalpur",
                state: "Odisha",
                district: "Ganjam",
                latitude: 19.2635,
                longitude: 84.9139,
            },
            {
                name: "Digha Beach",
                place: "Digha",
                state: "West Bengal",
                district: "Purba Medinipur",
                latitude: 21.6266,
                longitude: 87.5085,
            },
            {
                name: "Ramakrishna Beach",
                place: "Visakhapatnam",
                state: "Andhra Pradesh",
                district: "Visakhapatnam",
                latitude: 17.7129,
                longitude: 83.3312,
            },
            {
                name: "Kaup Beach",
                place: "Kaup",
                state: "Karnataka",
                district: "Udupi",
                latitude: 13.2261,
                longitude: 74.7373,
            },
            {
                name: "Om Beach",
                place: "Gokarna",
                state: "Karnataka",
                district: "Uttara Kannada",
                latitude: 14.5176,
                longitude: 74.3123,
            },
            {
                name: "Paradise Beach",
                place: "Puducherry",
                state: "Puducherry",
                district: "Puducherry",
                latitude: 11.8598,
                longitude: 79.8301,
            },
            {
                name: "Auroville Beach",
                place: "Auroville",
                state: "Puducherry",
                district: "Puducherry",
                latitude: 11.9967,
                longitude: 79.8575,
            },
            {
                name: "Rishikonda Beach",
                place: "Visakhapatnam",
                state: "Andhra Pradesh",
                district: "Visakhapatnam",
                latitude: 17.7649,
                longitude: 83.3657,
            },
            {
                name: "Kanyakumari Beach",
                place: "Kanyakumari",
                state: "Tamil Nadu",
                district: "Kanyakumari",
                latitude: 8.078,
                longitude: 77.5413,
            },
            {
                name: "Murud Beach",
                place: "Murud",
                state: "Maharashtra",
                district: "Raigad",
                latitude: 18.3258,
                longitude: 72.9654,
            },
            {
                name: "Muzhappilangad Beach",
                place: "Muzhappilangad",
                state: "Kerala",
                district: "Kannur",
                latitude: 11.8211,
                longitude: 75.4353,
            },
            {
                name: "Bheemunipatnam Beach",
                place: "Bheemunipatnam",
                state: "Andhra Pradesh",
                district: "Visakhapatnam",
                latitude: 17.8903,
                longitude: 83.4522,
            },
            {
                name: "Silver Beach",
                place: "Cuddalore",
                state: "Tamil Nadu",
                district: "Cuddalore",
                latitude: 11.7371,
                longitude: 79.7852,
            },
            {
                name: "Ganpatipule Beach",
                place: "Ganpatipule",
                state: "Maharashtra",
                district: "Ratnagiri",
                latitude: 17.1415,
                longitude: 73.2695,
            },
            {
                name: "Kollam Beach",
                place: "Kollam",
                state: "Kerala",
                district: "Kollam",
                latitude: 8.8855,
                longitude: 76.586,
            },
            {
                name: "Mahabalipuram Beach",
                place: "Mahabalipuram",
                state: "Tamil Nadu",
                district: "Kanchipuram",
                latitude: 12.6179,
                longitude: 80.1953,
            },
            {
                name: "Alappuzha Beach",
                place: "Alappuzha",
                state: "Kerala",
                district: "Alappuzha",
                latitude: 9.4917,
                longitude: 76.3234,
            },
            {
                name: "Chandipur Beach",
                place: "Chandipur",
                state: "Odisha",
                district: "Balasore",
                latitude: 21.4753,
                longitude: 87.0195,
            },
            {
                name: "Tarkarli Beach",
                place: "Tarkarli",
                state: "Maharashtra",
                district: "Sindhudurg",
                latitude: 16.0344,
                longitude: 73.4896,
            },
            {
                name: "Cherai Beach",
                place: "Cherai",
                state: "Kerala",
                district: "Ernakulam",
                latitude: 10.1455,
                longitude: 76.1761,
            },
            {
                name: "Vypin Beach",
                place: "Vypin",
                state: "Kerala",
                district: "Ernakulam",
                latitude: 10.0838,
                longitude: 76.2333,
            },
            {
                name: "Colva Beach",
                place: "Colva",
                state: "Goa",
                district: "South Goa",
                latitude: 15.2817,
                longitude: 73.922,
            },
            {
                name: "Mandarmani Beach",
                place: "Mandarmani",
                state: "West Bengal",
                district: "Purba Medinipur",
                latitude: 21.6855,
                longitude: 87.692,
            },
            {
                name: "Nagoa Beach",
                place: "Diu",
                state: "Daman and Diu",
                district: "Diu",
                latitude: 20.7137,
                longitude: 70.9042,
            },
            {
                name: "Agonda Beach",
                place: "Agonda",
                state: "Goa",
                district: "South Goa",
                latitude: 15.0424,
                longitude: 74.0229,
            },
            {
                name: "Aksa Beach",
                place: "Malad",
                state: "Maharashtra",
                district: "Mumbai",
                latitude: 19.1675,
                longitude: 72.7956,
            },
            {
                name: "Kashid Beach",
                place: "Kashid",
                state: "Maharashtra",
                district: "Raigad",
                latitude: 18.4522,
                longitude: 72.9102,
            },
            {
                name: "Maravanthe Beach",
                place: "Maravanthe",
                state: "Karnataka",
                district: "Udupi",
                latitude: 13.6322,
                longitude: 74.6344,
            },
            {
                name: "Ullal Beach",
                place: "Ullal",
                state: "Karnataka",
                district: "Dakshina Kannada",
                latitude: 12.8256,
                longitude: 74.8673,
            },
            {
                name: "Dona Paula Beach",
                place: "Dona Paula",
                state: "Goa",
                district: "North Goa",
                latitude: 15.4669,
                longitude: 73.8158,
            },
            {
                name: "Anjuna Beach",
                place: "Anjuna",
                state: "Goa",
                district: "North Goa",
                latitude: 15.5872,
                longitude: 73.7435,
            },
            {
                name: "Bekal Beach",
                place: "Bekal",
                state: "Kerala",
                district: "Kasaragod",
                latitude: 12.3957,
                longitude: 75.0298,
            },
            {
                name: "Velsao Beach",
                place: "Velsao",
                state: "Goa",
                district: "South Goa",
                latitude: 15.3433,
                longitude: 73.8754,
            },
            {
                name: "Miramar Beach",
                place: "Panjim",
                state: "Goa",
                district: "North Goa",
                latitude: 15.4749,
                longitude: 73.8054,
            },
            {
                name: "Varca Beach",
                place: "Varca",
                state: "Goa",
                district: "South Goa",
                latitude: 15.2098,
                longitude: 73.922,
            },
            {
                name: "Majorda Beach",
                place: "Majorda",
                state: "Goa",
                district: "South Goa",
                latitude: 15.2918,
                longitude: 73.9206,
            },
            {
                name: "Mandvi Beach",
                place: "Mandvi",
                state: "Gujarat",
                district: "Kachchh",
                latitude: 22.8294,
                longitude: 69.3524,
            },
            {
                name: "Vagator Beach",
                place: "Vagator",
                state: "Goa",
                district: "North Goa",
                latitude: 15.6001,
                longitude: 73.7337,
            },
            {
                name: "Sasihithlu Beach",
                place: "Sasihithlu",
                state: "Karnataka",
                district: "Dakshina Kannada",
                latitude: 13.0136,
                longitude: 74.7626,
            },
            {
                name: "Payyambalam Beach",
                place: "Kannur",
                state: "Kerala",
                district: "Kannur",
                latitude: 11.8833,
                longitude: 75.3555,
            },
            {
                name: "Ramakrishna Beach",
                place: "Visakhapatnam",
                state: "Andhra Pradesh",
                district: "Visakhapatnam",
                latitude: 17.7164,
                longitude: 83.3333,
            },
            {
                name: "Lighthouse Beach",
                place: "Kovalam",
                state: "Kerala",
                district: "Thiruvananthapuram",
                latitude: 8.3994,
                longitude: 76.9787,
            },
            {
                name: "Vypin Island Beach",
                place: "Vypin",
                state: "Kerala",
                district: "Ernakulam",
                latitude: 10.0743,
                longitude: 76.2117,
            },
            {
                name: "Ganeshgule Beach",
                place: "Ratnagiri",
                state: "Maharashtra",
                district: "Ratnagiri",
                latitude: 16.6032,
                longitude: 73.3084,
            },
            {
                name: "Manori Beach",
                place: "Mumbai",
                state: "Maharashtra",
                district: "Mumbai",
                latitude: 19.1974,
                longitude: 72.7898,
            },
            {
                name: "Nivati Beach",
                place: "Nivati",
                state: "Maharashtra",
                district: "Sindhudurg",
                latitude: 16.2244,
                longitude: 73.5267,
            },
            {
                name: "Shankumugham Beach",
                place: "Thiruvananthapuram",
                state: "Kerala",
                district: "Thiruvananthapuram",
                latitude: 8.4773,
                longitude: 76.9027,
            },
            {
                name: "Kapu Beach",
                place: "Kapu",
                state: "Karnataka",
                district: "Udupi",
                latitude: 13.2093,
                longitude: 74.7464,
            },
            {
                name: "Padubidri Beach",
                place: "Padubidri",
                state: "Karnataka",
                district: "Udupi",
                latitude: 13.1348,
                longitude: 74.7926,
            },
            {
                name: "Gokarna Beach",
                place: "Gokarna",
                state: "Karnataka",
                district: "Uttara Kannada",
                latitude: 14.5505,
                longitude: 74.3183,
            },
            {
                name: "St. Mary's Island",
                place: "Malpe",
                state: "Karnataka",
                district: "Udupi",
                latitude: 13.3667,
                longitude: 74.6789,
            },
            {
                name: "Rushikonda Beach",
                place: "Visakhapatnam",
                state: "Andhra Pradesh",
                district: "Visakhapatnam",
                latitude: 17.7602,
                longitude: 83.3885,
            },
            {
                name: "Dumas Beach",
                place: "Surat",
                state: "Gujarat",
                district: "Surat",
                latitude: 21.0716,
                longitude: 72.704,
            },
            {
                name: "Bakkhali Beach",
                place: "Bakkhali",
                state: "West Bengal",
                district: "South 24 Parganas",
                latitude: 21.5643,
                longitude: 88.2686,
            },
            {
                name: "Elephant Beach",
                place: "Havelock Island",
                state: "Andaman and Nicobar Islands",
                district: "South Andaman",
                latitude: 11.9775,
                longitude: 92.9847,
            },
            {
                name: "Pondicherry Beach",
                place: "Puducherry",
                state: "Puducherry",
                district: "Puducherry",
                latitude: 11.9338,
                longitude: 79.8377,
            },
            {
                name: "Ramakrishna Beach",
                place: "Visakhapatnam",
                state: "Andhra Pradesh",
                district: "Visakhapatnam",
                latitude: 17.7164,
                longitude: 83.3333,
            },
            {
                name: "Marina Beach",
                place: "Chennai",
                state: "Tamil Nadu",
                district: "Chennai",
                latitude: 13.0475,
                longitude: 80.2824,
            },
            {
                name: "Auroville Beach",
                place: "Auroville",
                state: "Puducherry",
                district: "Puducherry",
                latitude: 11.99,
                longitude: 79.8575,
            },
            {
                name: "Vypin Island Beach",
                place: "Vypin",
                state: "Kerala",
                district: "Ernakulam",
                latitude: 10.0724,
                longitude: 76.2087,
            },
            {
                name: "Varkala Beach",
                place: "Varkala",
                state: "Kerala",
                district: "Thiruvananthapuram",
                latitude: 8.7378,
                longitude: 76.7085,
            },
            {
                name: "Rishikonda Beach",
                place: "Visakhapatnam",
                state: "Andhra Pradesh",
                district: "Visakhapatnam",
                latitude: 17.7649,
                longitude: 83.3657,
            },
            {
                name: "Calangute Beach",
                place: "Calangute",
                state: "Goa",
                district: "North Goa",
                latitude: 15.5443,
                longitude: 73.7554,
            },
            {
                name: "Kovalam Beach",
                place: "Kovalam",
                state: "Kerala",
                district: "Thiruvananthapuram",
                latitude: 8.4017,
                longitude: 76.9784,
            },
            {
                name: "Chandipur Beach",
                place: "Chandipur",
                state: "Odisha",
                district: "Balasore",
                latitude: 21.4753,
                longitude: 87.0195,
            },
            {
                name: "Mandarmani Beach",
                place: "Mandarmani",
                state: "West Bengal",
                district: "Purba Medinipur",
                latitude: 21.6855,
                longitude: 87.692,
            },
            {
                name: "Digha Beach",
                place: "Digha",
                state: "West Bengal",
                district: "Purba Medinipur",
                latitude: 21.6266,
                longitude: 87.5085,
            },
        ];

        let obj = []
        fetch(
            "https://samudra.incois.gov.in/incoismobileappdata/rest/incois/districtpolygons"
        )
            .then((res) => {
                return res.json();
            })
            .then((data) => {
                data.features.forEach((district) => {
                    const pol = district.geometry;
                    // const multipolygon = turf.multiPolygon(pol)
                    L.geoJSON(pol)
                        .addTo(map)
                        .bindPopup(
                            `<h3>${district.properties?.OBJECTID} ${district.properties.District}</h3>`
                        )
                        .openPopup();
                        obj.push({
                            OBJECTID: district.properties?.OBJECTID,
                            District: district.properties.District,
                        })
                    // console.log(pol);
                });

                // console.log(multipolygon);
                const newBeaches = beaches.map((beach) => {
                    const o = {
                        ...beach,
                        OBJECTID: obj.find(dis => dis.District == beach.district.toUpperCase())?.OBJECTID
                    }
                    return o
                })
                console.log(newBeaches);
            });


       
        beaches.forEach((beach) => {
            L.marker([beach.latitude, beach.longitude])
                .addTo(map)
                .bindPopup(`<h3>${beach.name}</h3>`)
                .openPopup();
        });
        console.log(beaches.length);
    </script>
    <script src="./test.js"></script>
</body>

</html>